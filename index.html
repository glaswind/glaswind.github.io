<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è–º–∏</title>
    <meta name="description" content="–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–æ–ø–∏–ª–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∞—à–∏—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–µ–ª–µ–π">
    
    <!-- –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- –°—Ç–∏–ª–∏ -->
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        .modal {
            transition: opacity 0.3s ease;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-out;
        }
        
        .animate-slideIn {
            animation: slideIn 0.2s ease-out;
        }
        
        /* Progress bar */
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4f46e5;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #4338ca;
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã */
        .gradient-text {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç—ã —Ç–µ–Ω–µ–π */
        .shadow-soft {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .shadow-hover:hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ */
        .install-button {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            transition: all 0.3s ease;
        }
        
        .install-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(79, 70, 229, 0.3);
        }
        
        /* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ —ç—Ñ—Ñ–µ–∫—Ç */
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background-color: #f59e0b;
            opacity: 0.8;
            border-radius: 50%;
            z-index: 1000;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .hide-on-mobile {
                display: none;
            }
            
            .mobile-full-width {
                width: 100%;
            }
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#4f46e5",
                        secondary: "#7c3aed",
                        accent: "#f59e0b",
                        success: "#10b981",
                        danger: "#ef4444",
                        background: "#ffffff"
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen">
    <!-- Confetti container -->
    <div id="confettiContainer"></div>
    
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="min-h-screen flex flex-col">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="bg-white shadow-soft sticky top-0 z-40">
            <nav class="container mx-auto px-4 py-3">
                <div class="flex justify-between items-center">
                    <!-- –õ–æ–≥–æ—Ç–∏–ø -->
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center shadow-md">
                            <i class="fas fa-piggy-bank text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold gradient-text">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä</h1>
                            <p class="text-xs text-gray-500">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è–º–∏</p>
                        </div>
                    </div>
                    
                    <!-- –î–µ–π—Å—Ç–≤–∏—è -->
                    <div class="flex items-center space-x-3">
                        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
                        <div class="relative">
                            <button class="p-2 rounded-lg hover:bg-gray-100 transition-colors relative">
                                <i class="fas fa-bell text-gray-600"></i>
                                <span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center">
                                    2
                                </span>
                            </button>
                        </div>
                        
                        <!-- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã -->
                        <button id="themeToggle" class="p-2 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fas fa-moon text-gray-600"></i>
                        </button>
                        
                        <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
                        <div class="relative">
                            <button id="userMenuBtn" class="flex items-center space-x-2 p-1 rounded-lg hover:bg-gray-100 transition-colors">
                                <div class="w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-medium">
                                    U
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="flex-1 container mx-auto px-4 py-8 max-w-7xl">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ (2/3 —à–∏—Ä–∏–Ω—ã) -->
                <div class="lg:col-span-2">
                    <!-- –ë–∞–ª–∞–Ω—Å -->
                    <section class="bg-white rounded-2xl shadow-soft p-6 mb-8 shadow-hover transition-all">
                        <div class="text-center">
                            <h2 class="text-2xl font-semibold text-gray-800 mb-2">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</h2>
                            <div class="text-4xl font-bold text-primary mb-6" id="currentBalance">0 ‚ÇΩ</div>
                            <div class="flex justify-center space-x-4">
                                <button id="addMoney" class="bg-success text-white px-6 py-3 rounded-lg font-semibold hover:bg-emerald-600 transition-all hover:scale-105 shadow-md">
                                    <i class="fas fa-plus mr-2"></i>–î–æ–±–∞–≤–∏—Ç—å
                                </button>
                                <button id="withdrawMoney" class="bg-danger text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-600 transition-all hover:scale-105 shadow-md">
                                    <i class="fas fa-minus mr-2"></i>–°–Ω—è—Ç—å
                                </button>
                            </div>
                        </div>
                    </section>

                    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                    <section class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                        <button class="quick-action bg-white rounded-xl shadow-soft p-4 hover:shadow-hover transition-all" data-amount="100">
                            <div class="text-2xl font-bold text-primary">100 ‚ÇΩ</div>
                            <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                        </button>
                        <button class="quick-action bg-white rounded-xl shadow-soft p-4 hover:shadow-hover transition-all" data-amount="500">
                            <div class="text-2xl font-bold text-primary">500 ‚ÇΩ</div>
                            <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                        </button>
                        <button class="quick-action bg-white rounded-xl shadow-soft p-4 hover:shadow-hover transition-all" data-amount="1000">
                            <div class="text-2xl font-bold text-primary">1 000 ‚ÇΩ</div>
                            <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                        </button>
                        <button class="quick-action bg-white rounded-xl shadow-soft p-4 hover:shadow-hover transition-all" data-amount="5000">
                            <div class="text-2xl font-bold text-primary">5 000 ‚ÇΩ</div>
                            <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                        </button>
                    </section>

                    <!-- –¶–µ–ª–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- –¶–µ–ª–∏ -->
                        <section class="bg-white rounded-2xl shadow-soft p-6 shadow-hover transition-all">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-xl font-semibold text-gray-800">–ú–æ–∏ —Ü–µ–ª–∏</h2>
                                <button id="addGoal" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-indigo-600 transition-all hover:scale-105">
                                    <i class="fas fa-plus mr-1"></i>–ù–æ–≤–∞—è —Ü–µ–ª—å
                                </button>
                            </div>
                            <div id="goalsList" class="space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar">
                                <!-- –¶–µ–ª–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </section>

                        <!-- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π -->
                        <section class="bg-white rounded-2xl shadow-soft p-6 shadow-hover transition-all">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-xl font-semibold text-gray-800">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
                                <button id="clearHistory" class="text-sm text-gray-500 hover:text-danger">
                                    <i class="fas fa-trash-alt mr-1"></i>–û—á–∏—Å—Ç–∏—Ç—å
                                </button>
                            </div>
                            <div id="transactionsList" class="space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar">
                                <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </section>
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ (1/3 —à–∏—Ä–∏–Ω—ã) -->
                <div class="space-y-8">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <section class="bg-white rounded-2xl shadow-soft p-6 shadow-hover transition-all">
                        <h2 class="text-xl font-semibold text-gray-800 mb-6 text-center">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                        
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                                        <i class="fas fa-wallet text-blue-600"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-gray-600">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                                        <div class="font-bold" id="totalBalance">0 ‚ÇΩ</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3">
                                        <i class="fas fa-bullseye text-green-600"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-gray-600">–ê–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π</div>
                                        <div class="font-bold" id="activeGoals">0</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
                                        <i class="fas fa-chart-line text-purple-600"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-gray-600">–°—Ä–µ–¥–Ω–µ–µ –∑–∞ –º–µ—Å—è—Ü</div>
                                        <div class="font-bold" id="monthlyAverage">0 ‚ÇΩ</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center mr-3">
                                        <i class="fas fa-trophy text-yellow-600"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-gray-600">–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ —Ü–µ–ª–µ–π</div>
                                        <div class="font-bold" id="completedGoals">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ü–µ–ª—è–º -->
                    <section class="bg-white rounded-2xl shadow-soft p-6 shadow-hover transition-all">
                        <h2 class="text-xl font-semibold text-gray-800 mb-6 text-center">üéØ –ü—Ä–æ–≥—Ä–µ—Å—Å —Ü–µ–ª–µ–π</h2>
                        
                        <div id="goalsProgress" class="space-y-4">
                            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å —Ü–µ–ª–µ–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="text-center py-4 text-gray-500">
                                <i class="fas fa-bullseye text-3xl mb-2 opacity-50"></i>
                                <p class="text-sm">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π</p>
                            </div>
                        </div>
                        
                        <div class="mt-6 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100">
                            <p class="text-sm text-blue-800 text-center">
                                <i class="fas fa-lightbulb text-blue-600 mr-1"></i>
                                –°—Ç–∞–≤—å—Ç–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ü–µ–ª–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å
                            </p>
                        </div>
                    </section>
                    
                    <!-- –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ -->
                    <section class="bg-gradient-to-br from-primary/10 to-secondary/10 rounded-2xl shadow-soft p-6 border border-primary/20">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 text-center">üí° –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º—É–¥—Ä–æ—Å—Ç—å</h2>
                        <div class="text-center">
                            <div class="text-primary text-4xl mb-3">
                                <i class="fas fa-coins"></i>
                            </div>
                            <p class="text-gray-700 italic mb-3" id="motivationQuote">
                                "–ë–µ—Ä–µ–∂–ª–∏–≤–æ—Å—Ç—å - –ª—É—á—à–µ–µ –±–æ–≥–∞—Ç—Å—Ç–≤–æ."
                            </p>
                            <div class="text-sm text-gray-500">
                                ‚Äî –¶–∏—Ü–µ—Ä–æ–Ω
                            </div>
                            <button id="newQuoteBtn" class="mt-4 text-sm text-primary hover:text-secondary">
                                <i class="fas fa-redo mr-1"></i> –ù–æ–≤–∞—è —Ü–∏—Ç–∞—Ç–∞
                            </button>
                        </div>
                    </section>
                    
                    <!-- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
                    <section class="bg-gradient-to-br from-primary to-secondary rounded-2xl shadow-soft p-6 text-white">
                        <h2 class="text-xl font-semibold mb-4 text-center">üì± –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h2>
                        
                        <div class="space-y-4">
                            <div class="text-center mb-4">
                                <i class="fas fa-mobile-alt text-3xl mb-3"></i>
                                <p class="text-sm opacity-90">–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</p>
                            </div>
                            
                            <button id="installPWA" class="w-full install-button text-white px-4 py-3 rounded-lg font-semibold">
                                <i class="fas fa-download mr-2"></i>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                            </button>
                            
                            <div class="text-xs opacity-80 text-center mt-2">
                                –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω ‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Ä¢ –ë–µ–∑ —Ä–µ–∫–ª–∞–º—ã
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="mt-12 py-6 border-t border-gray-200">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row md:items-center justify-between text-sm text-gray-600">
                    <div class="mb-2 md:mb-0">
                        <span class="font-medium text-primary">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä</span> ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è–º–∏ ‚Ä¢ v1.0.0
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" class="hover:text-primary">–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</a>
                        <a href="#" class="hover:text-primary">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a>
                        <a href="#" class="hover:text-primary">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    
    <!-- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ -->
    <div id="addMoneyModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden p-4">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-md">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-bold">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h2>
                    <button id="closeAddMoneyModal" class="p-2 rounded-lg hover:bg-gray-100">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <form id="addMoneyForm">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (‚ÇΩ)</label>
                            <input 
                                type="number" 
                                id="addAmount"
                                required
                                min="1"
                                step="1"
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É"
                                autofocus
                            >
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                            <textarea 
                                id="addDescription"
                                rows="3"
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ —è–Ω–≤–∞—Ä—å"
                            ></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="addCategory" class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="income">–î–æ—Ö–æ–¥</option>
                                <option value="salary">–ó–∞—Ä–ø–ª–∞—Ç–∞</option>
                                <option value="freelance">–§—Ä–∏–ª–∞–Ω—Å</option>
                                <option value="gift">–ü–æ–¥–∞—Ä–æ–∫</option>
                                <option value="other">–î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3 mt-8">
                        <button type="button" id="cancelAddMoney" class="px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-all">
                            –û—Ç–º–µ–Ω–∞
                        </button>
                        <button type="submit" class="px-6 py-3 bg-success hover:bg-emerald-600 text-white rounded-lg font-medium transition-all hover:scale-105">
                            –ü–æ–ø–æ–ª–Ω–∏—Ç—å
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- –°–Ω—è—Ç–∏–µ -->
    <div id="withdrawMoneyModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden p-4">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-md">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-bold">–°–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤</h2>
                    <button id="closeWithdrawMoneyModal" class="p-2 rounded-lg hover:bg-gray-100">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <form id="withdrawMoneyForm">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–°—É–º–º–∞ —Å–Ω—è—Ç–∏—è (‚ÇΩ)</label>
                            <input 
                                type="number" 
                                id="withdrawAmount"
                                required
                                min="1"
                                step="1"
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É"
                                autofocus
                            >
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                            <textarea 
                                id="withdrawDescription"
                                rows="3"
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤"
                            ></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="withdrawCategory" class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="food">–ï–¥–∞</option>
                                <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                                <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                                <option value="shopping">–ü–æ–∫—É–ø–∫–∏</option>
                                <option value="bills">–°—á–µ—Ç–∞</option>
                                <option value="other">–î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3 mt-8">
                        <button type="button" id="cancelWithdrawMoney" class="px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-all">
                            –û—Ç–º–µ–Ω–∞
                        </button>
                        <button type="submit" class="px-6 py-3 bg-danger hover:bg-red-600 text-white rounded-lg font-medium transition-all hover:scale-105">
                            –°–Ω—è—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- –ù–æ–≤–∞—è —Ü–µ–ª—å -->
    <div id="addGoalModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden p-4">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-md">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-bold">–ù–æ–≤–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Ü–µ–ª—å</h2>
                    <button id="closeAddGoalModal" class="p-2 rounded-lg hover:bg-gray-100">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <form id="addGoalForm">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                            <input 
                                type="text" 
                                id="goalName"
                                required
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤—ã–π –Ω–æ—É—Ç–±—É–∫"
                                autofocus
                            >
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞ (‚ÇΩ)</label>
                            <input 
                                type="number" 
                                id="goalAmount"
                                required
                                min="1"
                                step="1"
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 100000"
                            >
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">–¢–µ–∫—É—â–∏–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è (‚ÇΩ)</label>
                                <input 
                                    type="number" 
                                    id="goalCurrent"
                                    min="0"
                                    step="1"
                                    class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 25000"
                                >
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">–°—Ä–æ–∫ (–º–µ—Å—è—Ü–µ–≤)</label>
                                <input 
                                    type="number" 
                                    id="goalDeadline"
                                    min="1"
                                    step="1"
                                    class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 12"
                                >
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                            <textarea 
                                id="goalDescription"
                                rows="3"
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ü–µ–ª–∏..."
                            ></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="goalCategory" class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="electronics">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                                <option value="travel">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</option>
                                <option value="education">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
                                <option value="car">–ê–≤—Ç–æ–º–æ–±–∏–ª—å</option>
                                <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                                <option value="other">–î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3 mt-8">
                        <button type="button" id="cancelAddGoal" class="px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-all">
                            –û—Ç–º–µ–Ω–∞
                        </button>
                        <button type="submit" class="px-6 py-3 bg-primary hover:bg-indigo-600 text-white rounded-lg font-medium transition-all hover:scale-105">
                            –°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-3 w-full max-w-sm"></div>
    
    <!-- JavaScript –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <script>
        // =====================
        // –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä App
        // =====================
        class FinanceTrackerApp {
            constructor() {
                // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                this.state = {
                    currentBalance: 0,
                    goals: [],
                    transactions: [],
                    monthlyData: {},
                    darkMode: localStorage.getItem('darkMode') === 'true' || 
                              (window.matchMedia('(prefers-color-scheme: dark)').matches && localStorage.getItem('darkMode') === null),
                    isLoading: false,
                    deferredPrompt: null
                };
                
                // –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–∏—Ç–∞—Ç—ã
                this.financialQuotes = [
                    { text: "–ë–µ—Ä–µ–∂–ª–∏–≤–æ—Å—Ç—å - –ª—É—á—à–µ–µ –±–æ–≥–∞—Ç—Å—Ç–≤–æ.", author: "–¶–∏—Ü–µ—Ä–æ–Ω" },
                    { text: "–î–µ–Ω—å–≥–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å, –∞ –Ω–µ –ª–µ–∂–∞—Ç—å –±–µ–∑ –¥–µ–ª–∞.", author: "–†–æ–±–µ—Ä—Ç –ö–∏–π–æ—Å–∞–∫–∏" },
                    { text: "–ú–∞–ª–µ–Ω—å–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–æ–ª—å—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º!", author: "–ù–∞—Ä–æ–¥–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å" },
                    { text: "–ù–µ –≤–∞–∂–Ω–æ, —Å–∫–æ–ª—å–∫–æ —Ç—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å, –≤–∞–∂–Ω–æ - —Å–∫–æ–ª—å–∫–æ —É —Ç–µ–±—è –æ—Å—Ç–∞–µ—Ç—Å—è.", author: "–ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω" },
                    { text: "–ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –∑–Ω–∞–Ω–∏—è - —ç—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –Ω–∞–∏–±–æ–ª—å—à—É—é –ø—Ä–∏–±—ã–ª—å.", author: "–ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω" },
                    { text: "–ë–æ–≥–∞—Ç—Å—Ç–≤–æ - —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤ –ø–æ–ª–Ω–æ–π –º–µ—Ä–µ –æ—â—É—â–∞—Ç—å –∂–∏–∑–Ω—å.", author: "–ì–µ–Ω—Ä–∏ –î—ç–≤–∏–¥ –¢–æ—Ä–æ" },
                    { text: "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–≤–æ–±–æ–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã—Ö —Ç—Ä–∞—Ç.", author: "–°—Ç–∏–≤ –î–∂–æ–±—Å" },
                    { text: "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –≤ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö - —Å–≤–æ–±–æ–¥–∞ –≤ –∂–∏–∑–Ω–∏.", author: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å" }
                ];
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                this.init();
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            init() {
                // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                this.loadFromLocalStorage();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
                this.initTheme();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI —Å–æ–±—ã—Ç–∏–π
                this.initUIEvents();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PWA
                this.initPWA();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–∏–º–µ—Ä—ã, –µ—Å–ª–∏ –Ω–µ—Ç —Å–≤–æ–∏—Ö)
                this.initSampleData();
                
                // –†–µ–Ω–¥–µ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                this.renderUI();
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à
                this.setupKeyboardShortcuts();
            }
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ LocalStorage
            loadFromLocalStorage() {
                try {
                    const savedBalance = localStorage.getItem('finance_tracker_balance');
                    const savedGoals = localStorage.getItem('finance_tracker_goals');
                    const savedTransactions = localStorage.getItem('finance_tracker_transactions');
                    const savedMonthlyData = localStorage.getItem('finance_tracker_monthly');
                    
                    if (savedBalance) {
                        this.state.currentBalance = parseFloat(savedBalance);
                    }
                    
                    if (savedGoals) {
                        this.state.goals = JSON.parse(savedGoals);
                    }
                    
                    if (savedTransactions) {
                        this.state.transactions = JSON.parse(savedTransactions);
                    }
                    
                    if (savedMonthlyData) {
                        this.state.monthlyData = JSON.parse(savedMonthlyData);
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                }
            }
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ LocalStorage
            saveToLocalStorage() {
                try {
                    localStorage.setItem('finance_tracker_balance', this.state.currentBalance.toString());
                    localStorage.setItem('finance_tracker_goals', JSON.stringify(this.state.goals));
                    localStorage.setItem('finance_tracker_transactions', JSON.stringify(this.state.transactions));
                    localStorage.setItem('finance_tracker_monthly', JSON.stringify(this.state.monthlyData));
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', error);
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
            initTheme() {
                if (this.state.darkMode) {
                    document.documentElement.classList.add('dark');
                    document.querySelector('#themeToggle i').classList.remove('fa-moon');
                    document.querySelector('#themeToggle i').classList.add('fa-sun');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PWA
            initPWA() {
                // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ beforeinstallprompt
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    this.state.deferredPrompt = e;
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏
                    const installBtn = document.getElementById('installPWA');
                    if (installBtn) {
                        installBtn.style.display = 'block';
                    }
                });
                
                // –°–æ–±—ã—Ç–∏–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
                window.addEventListener('appinstalled', () => {
                    this.state.deferredPrompt = null;
                    const installBtn = document.getElementById('installPWA');
                    if (installBtn) {
                        installBtn.style.display = 'none';
                    }
                    this.showToast('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!', 'success');
                });
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ª–∏ —É–∂–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                if (window.matchMedia('(display-mode: standalone)').matches || 
                    window.navigator.standalone === true) {
                    const installBtn = document.getElementById('installPWA');
                    if (installBtn) {
                        installBtn.style.display = 'none';
                    }
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö
            initSampleData() {
                const currentMonth = new Date().toLocaleString('ru-RU', { month: 'long', year: 'numeric' });
                
                if (this.state.goals.length === 0) {
                    this.state.goals = [
                        {
                            id: '1',
                            name: '–ù–æ–≤—ã–π –Ω–æ—É—Ç–±—É–∫',
                            targetAmount: 150000,
                            currentAmount: 75000,
                            description: 'MacBook Pro –¥–ª—è —Ä–∞–±–æ—Ç—ã',
                            category: 'electronics',
                            deadline: 6,
                            createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),
                            isCompleted: false
                        },
                        {
                            id: '2',
                            name: '–û—Ç–ø—É—Å–∫ –≤ –¢—É—Ä—Ü–∏–∏',
                            targetAmount: 200000,
                            currentAmount: 120000,
                            description: '–î–≤—É—Ö–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç–¥—ã—Ö –Ω–∞ –ø–æ–±–µ—Ä–µ–∂—å–µ',
                            category: 'travel',
                            deadline: 8,
                            createdAt: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000).toISOString(),
                            isCompleted: false
                        },
                        {
                            id: '3',
                            name: '–ö—É—Ä—Å—ã –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ',
                            targetAmount: 80000,
                            currentAmount: 80000,
                            description: '–ì–æ–¥–æ–≤–æ–π –∫—É—Ä—Å –≤ —è–∑—ã–∫–æ–≤–æ–π —à–∫–æ–ª–µ',
                            category: 'education',
                            deadline: 12,
                            createdAt: new Date(Date.now() - 180 * 24 * 60 * 60 * 1000).toISOString(),
                            isCompleted: true
                        }
                    ];
                }
                
                if (this.state.transactions.length === 0) {
                    this.state.transactions = [
                        { id: '1', type: 'income', amount: 75000, description: '–ó–∞—Ä–ø–ª–∞—Ç–∞', category: 'salary', date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString() },
                        { id: '2', type: 'expense', amount: 15000, description: '–ü—Ä–æ–¥—É–∫—Ç—ã', category: 'food', date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString() },
                        { id: '3', type: 'expense', amount: 5000, description: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', category: 'transport', date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString() },
                        { id: '4', type: 'income', amount: 20000, description: '–§—Ä–∏–ª–∞–Ω—Å', category: 'freelance', date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString() },
                        { id: '5', type: 'expense', amount: 10000, description: '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', category: 'entertainment', date: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString() }
                    ];
                    
                    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
                    this.state.currentBalance = this.state.transactions.reduce((sum, transaction) => {
                        return transaction.type === 'income' ? sum + transaction.amount : sum - transaction.amount;
                    }, 0);
                }
                
                if (!this.state.monthlyData[currentMonth]) {
                    this.state.monthlyData = {
                        [currentMonth]: {
                            income: 95000,
                            expenses: 30000,
                            savings: 65000
                        }
                    };
                }
                
                this.saveToLocalStorage();
            }
            
            // –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ü–µ–ª–∏
            calculateGoalProgress(goal) {
                return Math.min(Math.round((goal.currentAmount / goal.targetAmount) * 100), 100);
            }
            
            // –†–∞—Å—á–µ—Ç –º–µ—Å—è—á–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            calculateMonthlyStats() {
                const currentMonth = new Date().toLocaleString('ru-RU', { month: 'long', year: 'numeric' });
                const currentDate = new Date();
                const currentYear = currentDate.getFullYear();
                const currentMonthNum = currentDate.getMonth();
                
                // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
                const monthlyTransactions = this.state.transactions.filter(transaction => {
                    const transactionDate = new Date(transaction.date);
                    return transactionDate.getFullYear() === currentYear && 
                           transactionDate.getMonth() === currentMonthNum;
                });
                
                const income = monthlyTransactions
                    .filter(t => t.type === 'income')
                    .reduce((sum, t) => sum + t.amount, 0);
                
                const expenses = monthlyTransactions
                    .filter(t => t.type === 'expense')
                    .reduce((sum, t) => sum + t.amount, 0);
                
                const savings = income - expenses;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∑–∞ –º–µ—Å—è—Ü
                this.state.monthlyData[currentMonth] = { income, expenses, savings };
                
                return { income, expenses, savings };
            }
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É–º–º—ã
            formatAmount(amount) {
                return new Intl.NumberFormat('ru-RU', { 
                    style: 'currency', 
                    currency: 'RUB',
                    minimumFractionDigits: 0
                }).format(amount);
            }
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
            formatDate(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const diffMs = now - date;
                const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
                
                if (diffDays === 0) {
                    return '—Å–µ–≥–æ–¥–Ω—è';
                } else if (diffDays === 1) {
                    return '–≤—á–µ—Ä–∞';
                } else if (diffDays < 7) {
                    return `${diffDays} –¥–Ω—è –Ω–∞–∑–∞–¥`;
                } else {
                    return date.toLocaleDateString('ru-RU');
                }
            }
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
            addTransaction(type, amount, description, category) {
                const transaction = {
                    id: Date.now().toString(),
                    type: type,
                    amount: parseFloat(amount),
                    description: description || '',
                    category: category || (type === 'income' ? 'income' : 'expense'),
                    date: new Date().toISOString()
                };
                
                this.state.transactions.unshift(transaction);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
                if (type === 'income') {
                    this.state.currentBalance += parseFloat(amount);
                } else {
                    this.state.currentBalance -= parseFloat(amount);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –º–µ—Å—è—á–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                this.calculateMonthlyStats();
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º
                this.saveToLocalStorage();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                const message = type === 'income' 
                    ? `–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${this.formatAmount(amount)}` 
                    : `–°–æ —Å—á—ë—Ç–∞ —Å–ø–∏—Å–∞–Ω–æ ${this.formatAmount(amount)}`;
                
                this.showToast(message, type === 'income' ? 'success' : 'warning');
                
                return transaction;
            }
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–∏
            addGoal(name, targetAmount, currentAmount, description, category, deadline) {
                const goal = {
                    id: Date.now().toString(),
                    name: name,
                    targetAmount: parseFloat(targetAmount),
                    currentAmount: parseFloat(currentAmount) || 0,
                    description: description || '',
                    category: category || 'other',
                    deadline: parseInt(deadline) || 12,
                    createdAt: new Date().toISOString(),
                    isCompleted: false
                };
                
                this.state.goals.unshift(goal);
                this.saveToLocalStorage();
                
                this.showToast(`–¶–µ–ª—å "${name}" —Å–æ–∑–¥–∞–Ω–∞!`, 'success');
                
                return goal;
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–∏
            updateGoal(goalId, updates) {
                const goalIndex = this.state.goals.findIndex(g => g.id === goalId);
                
                if (goalIndex !== -1) {
                    this.state.goals[goalIndex] = {
                        ...this.state.goals[goalIndex],
                        ...updates
                    };
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –ª–∏ —Ü–µ–ª—å
                    if (this.state.goals[goalIndex].currentAmount >= this.state.goals[goalIndex].targetAmount) {
                        this.state.goals[goalIndex].isCompleted = true;
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                        this.showConfetti();
                        this.showToast('–¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞! üéâ', 'success');
                    }
                    
                    this.saveToLocalStorage();
                    return true;
                }
                
                return false;
            }
            
            // –£–¥–∞–ª–µ–Ω–∏–µ —Ü–µ–ª–∏
            deleteGoal(goalId) {
                const goalIndex = this.state.goals.findIndex(g => g.id === goalId);
                
                if (goalIndex !== -1) {
                    const goalName = this.state.goals[goalIndex].name;
                    this.state.goals.splice(goalIndex, 1);
                    this.saveToLocalStorage();
                    
                    this.showToast(`–¶–µ–ª—å "${goalName}" —É–¥–∞–ª–µ–Ω–∞`, 'warning');
                    return true;
                }
                
                return false;
            }
            
            // –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
            clearTransactions() {
                if (this.state.transactions.length > 0) {
                    this.state.transactions = [];
                    this.saveToLocalStorage();
                    
                    this.showToast('–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –æ—á–∏—â–µ–Ω–∞', 'warning');
                    return true;
                }
                
                return false;
            }
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–π —Ü–∏—Ç–∞—Ç—ã
            getRandomQuote() {
                return this.financialQuotes[Math.floor(Math.random() * this.financialQuotes.length)];
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ —ç—Ñ—Ñ–µ–∫—Ç
            showConfetti() {
                const confettiContainer = document.getElementById('confettiContainer');
                const colors = ['#f59e0b', '#10b981', '#4f46e5', '#7c3aed', '#ef4444'];
                
                for (let i = 0; i < 30; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    
                    confettiContainer.appendChild(confetti);
                    
                    // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showToast(message, type = 'info') {
                const toastContainer = document.getElementById('toastContainer');
                
                const toast = document.createElement('div');
                toast.className = `animate-slideIn p-4 rounded-lg shadow-lg ${
                    type === 'success' ? 'bg-green-500 text-white' :
                    type === 'warning' ? 'bg-yellow-500 text-white' :
                    type === 'error' ? 'bg-red-500 text-white' :
                    'bg-gray-800 text-white'
                }`;
                
                toast.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas ${
                            type === 'success' ? 'fa-check-circle' :
                            type === 'warning' ? 'fa-exclamation-triangle' :
                            type === 'error' ? 'fa-times-circle' :
                            'fa-info-circle'
                        } mr-3"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                toastContainer.appendChild(toast);
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    toast.style.opacity = '0';
                    toast.style.transition = 'opacity 0.3s ease';
                    
                    setTimeout(() => {
                        if (toastContainer.contains(toast)) {
                            toastContainer.removeChild(toast);
                        }
                    }, 300);
                }, 4000);
            }
            
            // –†–µ–Ω–¥–µ—Ä –≤—Å–µ–≥–æ UI
            renderUI() {
                // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
                this.renderBalance();
                
                // –†–µ–Ω–¥–µ—Ä–∏–º —Ü–µ–ª–∏
                this.renderGoals();
                
                // –†–µ–Ω–¥–µ—Ä–∏–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
                this.renderTransactions();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                this.renderStats();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å —Ü–µ–ª–µ–π
                this.renderGoalsProgress();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–∏—Ç–∞—Ç—É
                this.renderQuote();
            }
            
            // –†–µ–Ω–¥–µ—Ä –±–∞–ª–∞–Ω—Å–∞
            renderBalance() {
                const balanceElement = document.getElementById('currentBalance');
                if (balanceElement) {
                    balanceElement.textContent = this.formatAmount(this.state.currentBalance);
                }
                
                const totalBalanceElement = document.getElementById('totalBalance');
                if (totalBalanceElement) {
                    totalBalanceElement.textContent = this.formatAmount(this.state.currentBalance);
                }
            }
            
            // –†–µ–Ω–¥–µ—Ä —Ü–µ–ª–µ–π
            renderGoals() {
                const goalsList = document.getElementById('goalsList');
                
                if (!goalsList) return;
                
                if (this.state.goals.length === 0) {
                    goalsList.innerHTML = `
                        <div class="text-center text-gray-500 py-8">
                            <i class="fas fa-bullseye text-4xl mb-4 opacity-50"></i>
                            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–µ–ª–µ–π</p>
                            <p class="text-sm mt-2">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é —Ü–µ–ª—å –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏!</p>
                        </div>
                    `;
                    return;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏ (–¥–æ 3 —à—Ç—É–∫)
                const activeGoals = this.state.goals.filter(g => !g.isCompleted).slice(0, 3);
                const completedGoals = this.state.goals.filter(g => g.isCompleted);
                
                let goalsHTML = '';
                
                activeGoals.forEach(goal => {
                    const progress = this.calculateGoalProgress(goal);
                    const remaining = goal.targetAmount - goal.currentAmount;
                    const monthlySaving = remaining / goal.deadline;
                    
                    goalsHTML += `
                        <div class="bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors">
                            <div class="flex justify-between mb-2">
                                <div class="flex items-center">
                                    <h3 class="font-semibold text-gray-800 truncate">${goal.name}</h3>
                                    <span class="ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">${goal.category}</span>
                                </div>
                                <span class="text-sm font-bold text-primary whitespace-nowrap">${this.formatAmount(goal.targetAmount)}</span>
                            </div>
                            
                            <div class="mb-3">
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-sm text-gray-600">–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                                    <span class="text-sm font-bold">${progress}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="progress-bar bg-primary h-2 rounded-full" style="width: ${progress}%"></div>
                                </div>
                            </div>
                            
                            <div class="flex justify-between text-sm text-gray-600">
                                <div>
                                    <div>–°–æ–±—Ä–∞–Ω–æ: ${this.formatAmount(goal.currentAmount)}</div>
                                    <div class="text-xs">–û—Å—Ç–∞–ª–æ—Å—å: ${this.formatAmount(remaining)}</div>
                                </div>
                                <div class="text-right">
                                    <div class="text-xs">–ï–∂–µ–º–µ—Å—è—á–Ω–æ:</div>
                                    <div class="font-medium">${this.formatAmount(monthlySaving)}</div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                // –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏, –¥–æ–±–∞–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
                if (completedGoals.length > 0) {
                    goalsHTML += `
                        <div class="text-center text-sm text-gray-500 mt-4">
                            <i class="fas fa-trophy text-yellow-500 mr-1"></i>
                            –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ —Ü–µ–ª–µ–π: ${completedGoals.length}
                        </div>
                    `;
                }
                
                goalsList.innerHTML = goalsHTML;
            }
            
            // –†–µ–Ω–¥–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
            renderTransactions() {
                const transactionsList = document.getElementById('transactionsList');
                
                if (!transactionsList) return;
                
                if (this.state.transactions.length === 0) {
                    transactionsList.innerHTML = `
                        <div class="text-center text-gray-500 py-8">
                            <i class="fas fa-exchange-alt text-3xl mb-3 opacity-50"></i>
                            <p>–û–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
                            <p class="text-sm mt-2">–ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Ñ–∏–Ω–∞–Ω—Å—ã!</p>
                        </div>
                    `;
                    return;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
                const recentTransactions = this.state.transactions.slice(0, 10);
                
                transactionsList.innerHTML = recentTransactions.map(transaction => {
                    const isIncome = transaction.type === 'income';
                    const categoryIcons = {
                        salary: 'fa-money-check-alt',
                        freelance: 'fa-laptop-code',
                        gift: 'fa-gift',
                        food: 'fa-utensils',
                        transport: 'fa-bus',
                        entertainment: 'fa-film',
                        shopping: 'fa-shopping-bag',
                        bills: 'fa-file-invoice-dollar',
                        income: 'fa-arrow-down',
                        expense: 'fa-arrow-up'
                    };
                    
                    const icon = categoryIcons[transaction.category] || (isIncome ? 'fa-arrow-down' : 'fa-arrow-up');
                    
                    return `
                        <div class="flex justify-between items-center py-3 border-b border-gray-100 last:border-0 hover:bg-gray-50 rounded px-2 transition-colors">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-lg ${isIncome ? 'bg-green-100' : 'bg-red-100'} flex items-center justify-center">
                                    <i class="fas ${icon} ${isIncome ? 'text-green-600' : 'text-red-600'}"></i>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-800">${transaction.description || '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è'}</div>
                                    <div class="text-sm text-gray-500">${this.formatDate(transaction.date)} ‚Ä¢ ${transaction.category}</div>
                                </div>
                            </div>
                            <div class="${isIncome ? 'text-green-600' : 'text-red-600'} font-semibold whitespace-nowrap">
                                ${isIncome ? '+' : '-'}${this.formatAmount(transaction.amount)}
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            // –†–µ–Ω–¥–µ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            renderStats() {
                // –ê–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏
                const activeGoals = this.state.goals.filter(g => !g.isCompleted).length;
                const completedGoals = this.state.goals.filter(g => g.isCompleted).length;
                
                document.getElementById('activeGoals').textContent = activeGoals;
                document.getElementById('completedGoals').textContent = completedGoals;
                
                // –ú–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                const monthlyStats = this.calculateMonthlyStats();
                document.getElementById('monthlyAverage').textContent = this.formatAmount(monthlyStats.savings);
            }
            
            // –†–µ–Ω–¥–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ü–µ–ª–µ–π
            renderGoalsProgress() {
                const goalsProgress = document.getElementById('goalsProgress');
                
                if (!goalsProgress) return;
                
                const activeGoals = this.state.goals.filter(g => !g.isCompleted);
                
                if (activeGoals.length === 0) {
                    goalsProgress.innerHTML = `
                        <div class="text-center py-4 text-gray-500">
                            <i class="fas fa-bullseye text-3xl mb-2 opacity-50"></i>
                            <p class="text-sm">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π</p>
                        </div>
                    `;
                    return;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è 2 —Ü–µ–ª–µ–π
                const goalsToShow = activeGoals.slice(0, 2);
                
                goalsProgress.innerHTML = goalsToShow.map(goal => {
                    const progress = this.calculateGoalProgress(goal);
                    
                    return `
                        <div class="space-y-2">
                            <div class="flex justify-between text-sm">
                                <span class="font-medium truncate">${goal.name}</span>
                                <span class="font-bold">${progress}%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="progress-bar bg-primary h-2 rounded-full" style="width: ${progress}%"></div>
                            </div>
                            <div class="text-xs text-gray-500 flex justify-between">
                                <span>${this.formatAmount(goal.currentAmount)}</span>
                                <span>${this.formatAmount(goal.targetAmount)}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            // –†–µ–Ω–¥–µ—Ä —Ü–∏—Ç–∞—Ç—ã
            renderQuote() {
                const quote = this.getRandomQuote();
                document.getElementById('motivationQuote').textContent = `"${quote.text}"`;
                
                // –ê–≤—Ç–æ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
                const quoteAuthor = document.querySelector('#motivationQuote + .text-sm');
                if (quoteAuthor) {
                    quoteAuthor.textContent = `‚Äî ${quote.author}`;
                }
            }
            
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏
            showModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                    
                    // –§–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ –≤–≤–æ–¥–∞
                    const firstInput = modal.querySelector('input, textarea, select');
                    if (firstInput) {
                        setTimeout(() => firstInput.focus(), 100);
                    }
                }
            }
            
            hideModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('flex');
                    modal.classList.add('hidden');
                    
                    // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
                    const form = modal.querySelector('form');
                    if (form) {
                        form.reset();
                    }
                }
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
            toggleTheme() {
                this.state.darkMode = !this.state.darkMode;
                
                if (this.state.darkMode) {
                    document.documentElement.classList.add('dark');
                    document.querySelector('#themeToggle i').classList.remove('fa-moon');
                    document.querySelector('#themeToggle i').classList.add('fa-sun');
                } else {
                    document.documentElement.classList.remove('dark');
                    document.querySelector('#themeToggle i').classList.remove('fa-sun');
                    document.querySelector('#themeToggle i').classList.add('fa-moon');
                }
                
                localStorage.setItem('darkMode', this.state.darkMode);
                this.showToast(`–¢–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∞ –Ω–∞ ${this.state.darkMode ? '—Ç–µ–º–Ω—É—é' : '—Å–≤–µ—Ç–ª—É—é'}`, 'success');
            }
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PWA
            installPWA() {
                if (this.state.deferredPrompt) {
                    this.state.deferredPrompt.prompt();
                    this.state.deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–Ω—è–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É');
                        } else {
                            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É');
                        }
                        this.state.deferredPrompt = null;
                    });
                } else {
                    this.showNotification('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏', 'info');
                }
            }
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à
            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Ctrl+Enter –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–≤ —Ñ–æ—Ä–º–∞—Ö)
                    if (e.ctrlKey && e.key === 'Enter') {
                        const activeModal = document.querySelector('.modal:not(.hidden)');
                        if (activeModal) {
                            const submitBtn = activeModal.querySelector('button[type="submit"]');
                            if (submitBtn) {
                                submitBtn.click();
                            }
                        }
                    }
                    
                    // Escape –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–æ–∫
                    if (e.key === 'Escape') {
                        this.hideModal('addMoneyModal');
                        this.hideModal('withdrawMoneyModal');
                        this.hideModal('addGoalModal');
                    }
                    
                    // –ë—ã—Å—Ç—Ä—ã–µ –∫–ª–∞–≤–∏—à–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
                    if (e.key === '+' && e.ctrlKey) {
                        e.preventDefault();
                        this.showModal('addMoneyModal');
                    }
                    
                    if (e.key === '-' && e.ctrlKey) {
                        e.preventDefault();
                        this.showModal('withdrawMoneyModal');
                    }
                });
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI —Å–æ–±—ã—Ç–∏–π
            initUIEvents() {
                const app = this;
                
                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
                document.getElementById('themeToggle').addEventListener('click', () => {
                    app.toggleTheme();
                });
                
                // –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
                document.getElementById('addMoney').addEventListener('click', () => {
                    app.showModal('addMoneyModal');
                });
                
                // –°–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤
                document.getElementById('withdrawMoney').addEventListener('click', () => {
                    app.showModal('withdrawMoneyModal');
                });
                
                // –ù–æ–≤–∞—è —Ü–µ–ª—å
                document.getElementById('addGoal').addEventListener('click', () => {
                    app.showModal('addGoalModal');
                });
                
                // –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
                document.querySelectorAll('.quick-action').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const amount = parseInt(btn.dataset.amount);
                        if (amount > 0) {
                            app.addTransaction('income', amount, '–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ', 'income');
                            app.renderUI();
                        }
                    });
                });
                
                // –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
                document.getElementById('clearHistory').addEventListener('click', () => {
                    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π?')) {
                        app.clearTransactions();
                        app.renderUI();
                    }
                });
                
                // –ù–æ–≤–∞—è —Ü–∏—Ç–∞—Ç–∞
                document.getElementById('newQuoteBtn').addEventListener('click', () => {
                    app.renderQuote();
                    app.showToast('–ù–æ–≤–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º—É–¥—Ä–æ—Å—Ç—å!', 'info');
                });
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PWA
                document.getElementById('installPWA').addEventListener('click', () => {
                    app.installPWA();
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
                document.getElementById('closeAddMoneyModal').addEventListener('click', () => {
                    app.hideModal('addMoneyModal');
                });
                
                document.getElementById('cancelAddMoney').addEventListener('click', () => {
                    app.hideModal('addMoneyModal');
                });
                
                document.getElementById('closeWithdrawMoneyModal').addEventListener('click', () => {
                    app.hideModal('withdrawMoneyModal');
                });
                
                document.getElementById('cancelWithdrawMoney').addEventListener('click', () => {
                    app.hideModal('withdrawMoneyModal');
                });
                
                document.getElementById('closeAddGoalModal').addEventListener('click', () => {
                    app.hideModal('addGoalModal');
                });
                
                document.getElementById('cancelAddGoal').addEventListener('click', () => {
                    app.hideModal('addGoalModal');
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            app.hideModal(modal.id);
                        }
                    });
                });
                
                // –§–æ—Ä–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
                document.getElementById('addMoneyForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const amount = document.getElementById('addAmount').value;
                    const description = document.getElementById('addDescription').value;
                    const category = document.getElementById('addCategory').value;
                    
                    if (amount && parseFloat(amount) > 0) {
                        app.addTransaction('income', amount, description, category);
                        app.hideModal('addMoneyModal');
                        app.renderUI();
                    } else {
                        app.showToast('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É!', 'error');
                    }
                });
                
                // –§–æ—Ä–º–∞ —Å–Ω—è—Ç–∏—è
                document.getElementById('withdrawMoneyForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const amount = document.getElementById('withdrawAmount').value;
                    const description = document.getElementById('withdrawDescription').value;
                    const category = document.getElementById('withdrawCategory').value;
                    
                    if (amount && parseFloat(amount) > 0) {
                        if (parseFloat(amount) <= app.state.currentBalance) {
                            app.addTransaction('expense', amount, description, category);
                            app.hideModal('withdrawMoneyModal');
                            app.renderUI();
                        } else {
                            app.showToast('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ!', 'error');
                        }
                    } else {
                        app.showToast('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É!', 'error');
                    }
                });
                
                // –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ–ª–∏
                document.getElementById('addGoalForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const name = document.getElementById('goalName').value;
                    const targetAmount = document.getElementById('goalAmount').value;
                    const currentAmount = document.getElementById('goalCurrent').value || 0;
                    const description = document.getElementById('goalDescription').value;
                    const category = document.getElementById('goalCategory').value;
                    const deadline = document.getElementById('goalDeadline').value || 12;
                    
                    if (name && targetAmount && parseFloat(targetAmount) > 0) {
                        app.addGoal(name, targetAmount, currentAmount, description, category, deadline);
                        app.hideModal('addGoalModal');
                        app.renderUI();
                    } else {
                        app.showToast('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!', 'error');
                    }
                });
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            window.financeTracker = new FinanceTrackerApp();
        });
    </script>
</body>
</html>
