<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–ø–∏–ª–∫–∞ - –¢—Ä–µ–∫–µ—Ä –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π</title>
    <meta name="description" content="–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–æ–ø–∏–ª–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∞—à–∏—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π">
    
    <!-- PWA –º–µ—Ç–∞—Ç–µ–≥–∏ -->
    <meta name="theme-color" content="#d91e18">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <!-- –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- –°—Ç–∏–ª–∏ -->
    <style>
        body {
            background: url("https://i.imgur.com/3N1y7aY.png") no-repeat center center fixed;
            background-size: cover;
            min-height: 100vh;
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* –°–Ω–µ–≥–æ–ø–∞–¥ */
        .snowflake {
            position: fixed;
            top: -10px;
            z-index: 9999;
            color: white;
            user-select: none;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(110vh); }
        }

        /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        .modal {
            transition: opacity 0.3s ease;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–π–º–µ—Ä–∞ */
        .timer-unit {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–∏–¥–∂–µ—Ç–∞ Steam */
        .steam-widget-container {
            max-width: 646px;
            width: 100%;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* –î–ª—è PWA —É—Å—Ç–∞–Ω–æ–≤–∫–∏ */
        .install-button {
            transition: all 0.3s ease;
        }
        
        .install-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 768px) {
            .steam-widget-container {
                max-width: 100%;
            }
            
            .steam-widget-container iframe {
                width: 100% !important;
                max-width: 100%;
            }
            
            .hide-on-mobile {
                display: none;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #d91e18;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #b31813;
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#d91e18",
                        secondary: "#0b6623",
                        accent: "#e8b923",
                        success: "#0b6623",
                        background: "#ffffffaa"
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen">
    <!-- –°–Ω–µ–≥–æ–ø–∞–¥ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            for (let i = 0; i < 40; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.textContent = '‚ùÑ';
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.fontSize = (Math.random() * 20 + 10) + 'px';
                snowflake.style.animationDuration = (Math.random() * 5 + 5) + 's';
                document.body.appendChild(snowflake);
            }
        });
    </script>

    <!-- –®–∞–ø–∫–∞ -->
    <header class="bg-white shadow-xl rounded-b-3xl border-b-4 border-accent sticky top-0 z-40">
        <nav class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-holly-berry text-3xl text-accent"></i>
                    <h1 class="text-2xl font-bold text-primary">üéÑ –ú–æ—è –ö–æ–ø–∏–ª–∫–∞ üéÅ</h1>
                </div>
                <div class="flex items-center space-x-3">
                    <!-- –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA -->
                    <button id="installButton" class="hidden install-button bg-gradient-to-r from-primary to-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition-all">
                        <i class="fas fa-download mr-2"></i>
                        <span class="hide-on-mobile">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span>
                        <span class="md:hidden">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</span>
                    </button>
                    
                    <button id="themeToggle" class="p-2 rounded-full hover:bg-gray-100 transition-colors">
                        <i class="fas fa-moon text-gray-600"></i>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="container mx-auto px-4 py-8 max-w-7xl">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ (2/3 —à–∏—Ä–∏–Ω—ã) -->
            <div class="lg:col-span-2">
                <!-- –ë–∞–ª–∞–Ω—Å -->
                <section class="bg-white/90 backdrop-blur rounded-2xl shadow-lg p-6 mb-8">
                    <div class="text-center">
                        <h2 class="text-2xl font-semibold text-gray-700 mb-2">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</h2>
                        <div class="text-4xl font-bold text-primary mb-6" id="currentBalance">0</div>
                        <div class="flex justify-center space-x-4">
                            <button id="addMoney" class="bg-success text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors hover:scale-105">
                                <i class="fas fa-plus mr-2"></i>–î–æ–±–∞–≤–∏—Ç—å
                            </button>
                            <button id="withdrawMoney" class="bg-red-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors hover:scale-105">
                                <i class="fas fa-minus mr-2"></i>–°–Ω—è—Ç—å
                            </button>
                        </div>
                    </div>
                </section>

                <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                <section class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    <button class="quick-action bg-white/90 backdrop-blur rounded-xl shadow-lg p-4 hover:shadow-xl transition-all hover:scale-[1.02]" data-amount="100">
                        <div class="text-2xl font-bold text-primary">100</div>
                        <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å</div>
                    </button>
                    <button class="quick-action bg-white/90 backdrop-blur rounded-xl shadow-lg p-4 hover:shadow-xl transition-all hover:scale-[1.02]" data-amount="500">
                        <div class="text-2xl font-bold text-primary">500</div>
                        <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å</div>
                    </button>
                    <button class="quick-action bg-white/90 backdrop-blur rounded-xl shadow-lg p-4 hover:shadow-xl transition-all hover:scale-[1.02]" data-amount="1000">
                        <div class="text-2xl font-bold text-primary">1000</div>
                        <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å</div>
                    </button>
                    <button class="quick-action bg-white/90 backdrop-blur rounded-xl shadow-lg p-4 hover:shadow-xl transition-all hover:scale-[1.02]" data-amount="5000">
                        <div class="text-2xl font-bold text-primary">5000</div>
                        <div class="text-sm text-gray-600 mt-1">–ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å</div>
                    </button>
                </section>

                <!-- –¶–µ–ª–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- –¶–µ–ª–∏ -->
                    <section class="bg-white/90 backdrop-blur rounded-2xl shadow-lg p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold text-gray-800">–ú–æ–∏ —Ü–µ–ª–∏</h2>
                            <button id="addGoal" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-secondary transition-colors hover:scale-105">
                                <i class="fas fa-plus mr-1"></i>–ù–æ–≤–∞—è —Ü–µ–ª—å
                            </button>
                        </div>
                        <div id="goalsList" class="space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar"></div>
                    </section>

                    <!-- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π -->
                    <section class="bg-white/90 backdrop-blur rounded-2xl shadow-lg p-6">
                        <h2 class="text-xl font-semibold text-gray-800 mb-6">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
                        <div id="transactionsList" class="space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar"></div>
                    </section>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ (1/3 —à–∏—Ä–∏–Ω—ã) -->
            <div class="space-y-8">
                <!-- –í–∏–¥–∂–µ—Ç Steam -->
                <section class="bg-white/90 backdrop-blur rounded-2xl shadow-lg p-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 text-center">üéÆ –ò–≥—Ä–∞ –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π</h2>
                    <p class="text-gray-600 mb-4 text-center text-sm">
                        –û—Ç–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ —ç—Ç—É –∏–≥—Ä—É –≤ Steam!
                    </p>
                    <div class="steam-widget-container mx-auto">
                        <iframe 
                            src="https://store.steampowered.com/widget/4164420/" 
                            frameborder="0" 
                            width="646" 
                            height="190"
                            class="w-full rounded-lg"
                            title="Steam Widget"
                            loading="lazy">
                        </iframe>
                    </div>
                    <div class="mt-4 text-center">
                        <p class="text-sm text-gray-500">
                            –ö–∞–∂–¥–∞—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è —Å—É–º–º–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –≤–∞—Å –∫ —Ü–µ–ª–∏!
                        </p>
                    </div>
                </section>

                <!-- –¢–∞–π–º–µ—Ä –¥–æ –ù–æ–≤–æ–≥–æ 2026 –≥–æ–¥–∞ -->
                <section class="bg-gradient-to-br from-primary/20 to-accent/20 backdrop-blur rounded-2xl shadow-lg p-6 border border-white/30">
                    <h2 class="text-xl font-semibold text-red-600 mb-6 text-center">‚è≥ –î–æ –ù–æ–≤–æ–≥–æ 2026 –≥–æ–¥–∞</h2>
                    
                    <div class="grid grid-cols-4 gap-3 mb-6">
                        <div class="timer-unit text-center p-3 rounded-xl">
                            <div id="days" class="text-3xl font-bold text-red-600">00</div>
                            <div class="text-sm text-red-700 mt-1 font-medium">–î–Ω–µ–π</div>
                        </div>
                        <div class="timer-unit text-center p-3 rounded-xl">
                            <div id="hours" class="text-3xl font-bold text-red-600">00</div>
                            <div class="text-sm text-red-700 mt-1 font-medium">–ß–∞—Å–æ–≤</div>
                        </div>
                        <div class="timer-unit text-center p-3 rounded-xl">
                            <div id="minutes" class="text-3xl font-bold text-red-600">00</div>
                            <div class="text-sm text-red-700 mt-1 font-medium">–ú–∏–Ω—É—Ç</div>
                        </div>
                        <div class="timer-unit text-center p-3 rounded-xl">
                            <div id="seconds" class="text-3xl font-bold text-red-600">00</div>
                            <div class="text-sm text-red-700 mt-1 font-medium">–°–µ–∫—É–Ω–¥</div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <div class="text-lg font-semibold text-red-700 mb-2" id="newYearMessage">
                            –î–æ –ù–æ–≤–æ–≥–æ 2026 –≥–æ–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å:
                        </div>
                        <div class="text-sm text-red-600 font-medium">
                            <i class="fas fa-calendar-alt mr-2 text-red-600"></i>
                            –¶–µ–ª—å: 1 —è–Ω–≤–∞—Ä—è 2026 –≥–æ–¥–∞
                        </div>
                        <div class="mt-4 p-3 bg-red-50 rounded-lg border border-red-200">
                            <p class="text-sm text-red-800 font-medium">
                                <i class="fas fa-lightbulb text-red-600 mr-2"></i>
                                –£—Å–ø–µ–µ—Ç–µ –Ω–∞–∫–æ–ø–∏—Ç—å –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏ –∫ –ù–æ–≤–æ–º—É –≥–æ–¥—É!
                            </p>
                        </div>
                    </div>
                </section>
                
                <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ -->
                <section class="bg-gradient-to-br from-blue-50 to-indigo-50 backdrop-blur rounded-2xl shadow-lg p-6 border border-blue-200">
                    <h2 class="text-xl font-semibold text-blue-800 mb-4 text-center">
                        <i class="fas fa-mobile-alt mr-2"></i>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                    </h2>
                    
                    <div class="space-y-4">
                        <!-- –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–¥—É–±–ª–∏—Ä—É—é—â–∞—è –∫–Ω–æ–ø–∫—É –≤ —Ö–µ–¥–µ—Ä–µ) -->
                        <button id="installButton2" class="w-full install-button bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-3 rounded-lg font-semibold hover:shadow-lg transition-all pulse-animation">
                            <i class="fas fa-download mr-2"></i>–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
                        </button>
                        
                        <div class="bg-white/70 p-4 rounded-lg">
                            <h3 class="font-semibold text-blue-700 mb-2">üì± –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:</h3>
                            <ul class="text-sm text-blue-800 space-y-2">
                                <li class="flex items-start">
                                    <i class="fas fa-chrome text-blue-600 mt-1 mr-2"></i>
                                    <span><strong>Chrome/Edge:</strong> –ù–∞–∂–º–∏—Ç–µ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" –∏–ª–∏ ‚ãÆ ‚Üí "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fab fa-safari text-blue-600 mt-1 mr-2"></i>
                                    <span><strong>Safari:</strong> –ù–∞–∂–º–∏—Ç–µ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è ‚Üí "–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª"</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fab fa-firefox text-blue-600 mt-1 mr-2"></i>
                                    <span><strong>Firefox:</strong> –î–æ–±–∞–≤—å—Ç–µ –∑–∞–∫–ª–∞–¥–∫—É –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–∞–∫ PWA</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="text-center">
                            <p class="text-sm text-blue-600">
                                <i class="fas fa-info-circle mr-1"></i>
                                –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω!
                            </p>
                        </div>
                    </div>
                </section>
                
                <!-- –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ -->
                <section class="bg-white/90 backdrop-blur rounded-2xl shadow-lg p-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 text-center">üí° –ú–æ—Ç–∏–≤–∞—Ü–∏—è</h2>
                    <div class="text-center">
                        <div class="text-accent text-4xl mb-3">
                            <i class="fas fa-coins"></i>
                        </div>
                        <p class="text-gray-700 italic mb-3" id="motivationQuote">
                            "–ú–∞–ª–µ–Ω—å–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–æ–ª—å—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º!"
                        </p>
                        <div class="text-sm text-gray-500">
                            –¢–µ–∫—É—â–∞—è —Ü–µ–ª—å: <span id="nextGoalAmount">0</span>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ -->
    <div id="addMoneyModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <h3 class="text-xl font-semibold mb-4">–î–æ–±–∞–≤–∏—Ç—å –¥–µ–Ω—å–≥–∏</h3>
            <input type="number" id="addAmount" placeholder="–°—É–º–º–∞" class="w-full p-3 border border-gray-300 rounded-lg mb-4" min="1">
            <textarea id="addDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" class="w-full p-3 border border-gray-300 rounded-lg mb-4" rows="3"></textarea>
            <div class="flex space-x-3">
                <button id="confirmAdd" class="flex-1 bg-success text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors hover:scale-105">–î–æ–±–∞–≤–∏—Ç—å</button>
                <button id="cancelAdd" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400 transition-colors hover:scale-105">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –°–Ω—è—Ç–∏–µ -->
    <div id="withdrawMoneyModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <h3 class="text-xl font-semibold mb-4">–°–Ω—è—Ç—å –¥–µ–Ω—å–≥–∏</h3>
            <input type="number" id="withdrawAmount" placeholder="–°—É–º–º–∞" class="w-full p-3 border border-gray-300 rounded-lg mb-4" min="1">
            <textarea id="withdrawDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" class="w-full p-3 border border-gray-300 rounded-lg mb-4" rows="3"></textarea>
            <div class="flex space-x-3">
                <button id="confirmWithdraw" class="flex-1 bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors hover:scale-105">–°–Ω—è—Ç—å</button>
                <button id="cancelWithdraw" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400 transition-colors hover:scale-105">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ù–æ–≤–∞—è —Ü–µ–ª—å -->
    <div id="addGoalModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <h3 class="text-xl font-semibold mb-4">–ù–æ–≤–∞—è —Ü–µ–ª—å</h3>
            <input type="text" id="goalName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏" class="w-full p-3 border border-gray-300 rounded-lg mb-4">
            <input type="number" id="goalAmount" placeholder="–°—É–º–º–∞ —Ü–µ–ª–∏" class="w-full p-3 border border-gray-300 rounded-lg mb-4" min="1">
            <div class="flex space-x-3">
                <button id="confirmGoal" class="flex-1 bg-primary text-white py-3 rounded-lg font-semibold hover:bg-secondary transition-colors hover:scale-105">–°–æ–∑–¥–∞—Ç—å</button>
                <button id="cancelGoal" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400 transition-colors hover:scale-105">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="mt-12 py-6 text-center text-gray-600 text-sm">
        <p>¬© 2024 –ú–æ—è –ö–æ–ø–∏–ª–∫–∞. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        <p class="mt-1">–†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω ‚Ä¢ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</p>
    </footer>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentBalance = 0;
        let goals = [];
        let transactions = [];
        let newYearTimer;
        let deferredPrompt;
        
        // –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã
        const motivationQuotes = [
            "–ú–∞–ª–µ–Ω—å–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–æ–ª—å—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º!",
            "–ö–∞–∂–¥–∞—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è –∫–æ–ø–µ–π–∫–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –≤–∞—Å –∫ —Ü–µ–ª–∏!",
            "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –≤ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö - —Å–≤–æ–±–æ–¥–∞ –≤ –∂–∏–∑–Ω–∏!",
            "–ö–æ–ø–µ–π–∫–∞ —Ä—É–±–ª—å –±–µ—Ä–µ–∂—ë—Ç, –∞ —Ä—É–±–ª—å - —Ç—ã—Å—è—á—É —Å—Ç–µ—Ä–µ–∂—ë—Ç!",
            "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Ü–µ–ª—å –±–µ–∑ –ø–ª–∞–Ω–∞ - –ø—Ä–æ—Å—Ç–æ –º–µ—á—Ç–∞!",
            "–£—Å–ø–µ—Ö - —ç—Ç–æ —Å—É–º–º–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö —É—Å–∏–ª–∏–π, –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã—Ö –∏–∑–æ –¥–Ω—è –≤ –¥–µ–Ω—å!",
            "–ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π –Ω–∞ –∑–∞–≤—Ç—Ä–∞ —Ç–æ, —á—Ç–æ –º–æ–∂–µ—à—å –æ—Ç–ª–æ–∂–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è!"
        ];

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            currentBalance: document.getElementById('currentBalance'),
            goalsList: document.getElementById('goalsList'),
            transactionsList: document.getElementById('transactionsList'),
            motivationQuote: document.getElementById('motivationQuote'),
            nextGoalAmount: document.getElementById('nextGoalAmount'),
            installButton: document.getElementById('installButton'),
            installButton2: document.getElementById('installButton2'),
            modals: {
                addMoney: document.getElementById('addMoneyModal'),
                withdrawMoney: document.getElementById('withdrawMoneyModal'),
                addGoal: document.getElementById('addGoalModal')
            },
            timer: {
                days: document.getElementById('days'),
                hours: document.getElementById('hours'),
                minutes: document.getElementById('minutes'),
                seconds: document.getElementById('seconds')
            }
        };

        // === PWA –£–°–¢–ê–ù–û–í–ö–ê ===
        function setupPWA() {
            // –°–æ–∑–¥–∞–µ–º –º–∞–Ω–∏—Ñ–µ—Å—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
            if ('serviceWorker' in navigator) {
                const manifest = {
                    "name": "–ú–æ—è –ö–æ–ø–∏–ª–∫–∞",
                    "short_name": "–ö–æ–ø–∏–ª–∫–∞",
                    "description": "–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–æ–ø–∏–ª–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π",
                    "start_url": "/",
                    "display": "standalone",
                    "background_color": "#ffffff",
                    "theme_color": "#d91e18",
                    "icons": [
                        {
                            "src": "https://cdn-icons-png.flaticon.com/192/3446/3446956.png",
                            "sizes": "192x192",
                            "type": "image/png"
                        },
                        {
                            "src": "https://cdn-icons-png.flaticon.com/512/3446/3446956.png",
                            "sizes": "512x512",
                            "type": "image/png"
                        }
                    ]
                };
                
                // –°–æ–∑–¥–∞–µ–º –∏ –¥–æ–±–∞–≤–ª—è–µ–º manifest.json
                const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
                const manifestURL = URL.createObjectURL(blob);
                const link = document.createElement('link');
                link.rel = 'manifest';
                link.href = manifestURL;
                document.head.appendChild(link);
                
                // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º Service Worker
                navigator.serviceWorker.register('/sw.js').catch(error => {
                    console.log('Service Worker registration failed:', error);
                });
            }
            
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ beforeinstallprompt
            window.addEventListener('beforeinstallprompt', (e) => {
                // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
                e.preventDefault();
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
                deferredPrompt = e;
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏
                elements.installButton.classList.remove('hidden');
                elements.installButton2.classList.remove('hidden');
            });
            
            // –°–æ–±—ã—Ç–∏–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
            window.addEventListener('appinstalled', () => {
                deferredPrompt = null;
                elements.installButton.classList.add('hidden');
                elements.installButton2.classList.add('hidden');
                showNotification('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!', 'success');
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ª–∏ —É–∂–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            if (window.matchMedia('(display-mode: standalone)').matches || 
                window.navigator.standalone === true) {
                elements.installButton.classList.add('hidden');
                elements.installButton2.classList.add('hidden');
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–Ω—è–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É');
                    } else {
                        console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É');
                    }
                    deferredPrompt = null;
                });
            } else {
                showNotification('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏', 'info');
                showInstallInstructions();
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
        function showInstallInstructions() {
            const instructions = `
                <div class="bg-white rounded-2xl p-6 max-w-md">
                    <h3 class="text-xl font-semibold mb-4">–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:</h3>
                    <div class="space-y-3">
                        <p><strong>Chrome/Edge –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:</strong><br>
                        ‚Ä¢ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É ‚öôÔ∏è –∏–ª–∏ ‚ãÆ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ<br>
                        ‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ú–æ—è –ö–æ–ø–∏–ª–∫–∞"</p>
                        
                        <p><strong>Chrome –Ω–∞ Android:</strong><br>
                        ‚Ä¢ –ù–∞–∂–º–∏—Ç–µ ‚ãÆ ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"</p>
                        
                        <p><strong>Safari –Ω–∞ iOS:</strong><br>
                        ‚Ä¢ –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"<br>
                        ‚Ä¢ –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª"</p>
                        
                        <p class="text-sm text-gray-500 mt-4">
                            –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!
                        </p>
                    </div>
                    <button id="closeInstructions" class="mt-4 w-full bg-gray-300 py-2 rounded-lg">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            `;
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = instructions;
            document.body.appendChild(modal);
            
            modal.querySelector('#closeInstructions').onclick = () => {
                document.body.removeChild(modal);
            };
            
            modal.onclick = (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            };
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ localStorage
        function initializeApp() {
            const savedBalance = localStorage.getItem('piggyBankBalance');
            const savedGoals = localStorage.getItem('piggyBankGoals');
            const savedTransactions = localStorage.getItem('piggyBankTransactions');

            if (savedBalance) currentBalance = parseFloat(savedBalance);
            if (savedGoals) goals = JSON.parse(savedGoals);
            if (savedTransactions) transactions = JSON.parse(savedTransactions);

            updateUI();
            startNewYearTimer();
            updateMotivationQuote();
            setupPWA();
        }

        // –¢–∞–π–º–µ—Ä –¥–æ –ù–æ–≤–æ–≥–æ 2026 –≥–æ–¥–∞
        function startNewYearTimer() {
            function updateTimer() {
                const now = new Date();
                const newYear2026 = new Date('January 1, 2026 00:00:00');
                const diff = newYear2026 - now;
                
                if (diff <= 0) {
                    clearInterval(newYearTimer);
                    elements.timer.days.textContent = '00';
                    elements.timer.hours.textContent = '00';
                    elements.timer.minutes.textContent = '00';
                    elements.timer.seconds.textContent = '00';
                    document.getElementById('newYearMessage').textContent = '–° –ù–æ–≤—ã–º 2026 –≥–æ–¥–æ–º! üéâ';
                    return;
                }
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                elements.timer.days.textContent = days.toString().padStart(2, '0');
                elements.timer.hours.textContent = hours.toString().padStart(2, '0');
                elements.timer.minutes.textContent = minutes.toString().padStart(2, '0');
                elements.timer.seconds.textContent = seconds.toString().padStart(2, '0');
            }
            
            updateTimer();
            newYearTimer = setInterval(updateTimer, 1000);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–π —Ü–∏—Ç–∞—Ç—ã
        function updateMotivationQuote() {
            const randomQuote = motivationQuotes[Math.floor(Math.random() * motivationQuotes.length)];
            elements.motivationQuote.textContent = `"${randomQuote}"`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–ª–∏–∂–∞–π—à—É—é —Ü–µ–ª—å
            if (goals.length > 0) {
                const nextGoal = goals.reduce((prev, curr) => 
                    (curr.amount > currentBalance && curr.amount < prev.amount) ? curr : prev
                , { amount: Infinity });
                
                if (nextGoal.amount !== Infinity) {
                    elements.nextGoalAmount.textContent = nextGoal.amount.toLocaleString('ru-RU');
                } else {
                    elements.nextGoalAmount.textContent = '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–≤—É—é —Ü–µ–ª—å!';
                }
            } else {
                elements.nextGoalAmount.textContent = '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–≤—É—é —Ü–µ–ª—å!';
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
        function saveData() {
            localStorage.setItem('piggyBankBalance', currentBalance.toString());
            localStorage.setItem('piggyBankGoals', JSON.stringify(goals));
            localStorage.setItem('piggyBankTransactions', JSON.stringify(transactions));
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
            elements.currentBalance.textContent = currentBalance.toLocaleString('ru-RU');
            
            // –†–µ–Ω–¥–µ—Ä —Ü–µ–ª–µ–π
            renderGoals();
            
            // –†–µ–Ω–¥–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
            renderTransactions();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ—Ç–∏–≤–∞—Ü–∏–∏
            updateMotivationQuote();
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            saveData();
        }

        // –†–µ–Ω–¥–µ—Ä —Ü–µ–ª–µ–π
        function renderGoals() {
            const goalsList = elements.goalsList;
            goalsList.innerHTML = '';

            if (goals.length === 0) {
                goalsList.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <i class="fas fa-gifts text-4xl mb-4 text-accent"></i>
                        <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ü–µ–ª–µ–π</p>
                        <p class="text-sm mt-2">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é —Ü–µ–ª—å –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏!</p>
                    </div>
                `;
                return;
            }

            goals.forEach(goal => {
                const progress = Math.min((currentBalance / goal.amount) * 100, 100);
                const remaining = Math.max(0, goal.amount - currentBalance);
                const isAchieved = currentBalance >= goal.amount;
                
                const goalElement = document.createElement('div');
                goalElement.className = `bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors ${isAchieved ? 'border-2 border-success' : ''}`;
                goalElement.innerHTML = `
                    <div class="flex justify-between mb-2">
                        <div class="flex items-center">
                            <h3 class="font-semibold text-gray-800 truncate">${goal.name}</h3>
                            ${isAchieved ? '<span class="ml-2 text-xs bg-success text-white px-2 py-1 rounded">–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ!</span>' : ''}
                        </div>
                        <span class="text-sm font-bold ${isAchieved ? 'text-success' : 'text-primary'} whitespace-nowrap">${goal.amount.toLocaleString('ru-RU')}</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                        <div class="h-2 rounded-full transition-all duration-500 ${isAchieved ? 'bg-success' : 'bg-accent'}" style="width: ${progress}%"></div>
                    </div>
                    <div class="flex justify-between text-sm ${isAchieved ? 'text-success' : 'text-gray-600'}">
                        <span>–ü—Ä–æ–≥—Ä–µ—Å—Å: ${progress.toFixed(1)}%</span>
                        <span>${isAchieved ? '–¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!' : `–û—Å—Ç–∞–ª–æ—Å—å: ${remaining.toLocaleString('ru-RU')}`}</span>
                    </div>
                `;
                goalsList.appendChild(goalElement);
            });
        }

        // –†–µ–Ω–¥–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
        function renderTransactions() {
            const transactionsList = elements.transactionsList;
            transactionsList.innerHTML = '';

            if (transactions.length === 0) {
                transactionsList.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <i class="fas fa-scroll text-4xl mb-4"></i>
                        <p>–û–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
                        <p class="text-sm mt-2">–ù–∞—á–Ω–∏—Ç–µ –ø–æ–ø–æ–ª–Ω—è—Ç—å –∫–æ–ø–∏–ª–∫—É!</p>
                    </div>
                `;
                return;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
            transactions.slice().reverse().slice(0, 15).forEach(transaction => {
                const isPositive = transaction.amount > 0;
                const transactionElement = document.createElement('div');
                transactionElement.className = 'flex justify-between items-center py-3 border-b border-gray-100 last:border-0 hover:bg-gray-50 rounded px-2';
                transactionElement.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <i class="fas ${isPositive ? 'fa-plus-circle text-success' : 'fa-minus-circle text-red-500'}"></i>
                        <div>
                            <div class="font-medium text-gray-800 truncate max-w-[150px]">${transaction.description || '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è'}</div>
                            <
